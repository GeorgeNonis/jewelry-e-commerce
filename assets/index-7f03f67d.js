import{r as h,H as x,n as p,K as j,M as g,p as N,j as s,N as t,f,h as v,L as k}from"./index-6320de32.js";import{u as y}from"./useDispatch-e81e7cea.js";import{T as C}from"./trendingNow-814184ef.js";const T=()=>{const[e,n]=h.useState(1),[l,o]=h.useState(!1),a=y(),{id:c}=x(),r=p.find(i=>i.items.find(m=>`${m.id}`===c)),d=r==null?void 0:r.items.find(i=>`${i.id}`===c);return h.useEffect(()=>{n(1)},[c]),{values:{product:d,quantity:e,loading:l},handlers:{increment:()=>{n(i=>i+=1)},decrement:()=>{e!==1&&n(i=>i-=1)},additemtocart:()=>{o(!0),setTimeout(()=>{a(j({id:c,quantity:e,item:{...d}})),o(!1)},250)},checkOutHandler:()=>{a(g({quantity:e,item:{...d}})),a(N({bln:!0}))}}}},L=()=>{var l,o,a,c,r,d,u;const{values:e,handlers:n}=T();return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:t.sectionContent,children:[s.jsx("img",{src:(l=e.product)==null?void 0:l.img,alt:(o=e.product)==null?void 0:o.img}),s.jsxs("div",{className:t.mainContent,children:[s.jsx("h3",{children:(a=e.product)==null?void 0:a.name}),s.jsx("p",{children:(c=e.product)==null?void 0:c.description}),s.jsxs("div",{className:t.quantity,children:[s.jsx("h3",{children:"Quantity"}),s.jsxs("div",{className:t.incrementBtn,children:[s.jsx("span",{className:t.minus,onClick:n.decrement,children:"-"}),s.jsx("span",{className:t.poso,children:e.quantity}),s.jsx("span",{className:t.plus,onClick:n.increment,children:"+"})]}),s.jsx("span",{children:f(e.quantity*e.product.price)})]}),s.jsxs("div",{className:t.actions,children:[s.jsx("button",{className:t.addCart,onClick:n.additemtocart,disabled:e.loading,children:e.loading?s.jsx(v,{height:!0}):"ADD TO CART"}),s.jsx(k,{className:t.buyNow,to:"/checkout",onClick:n.checkOutHandler,children:"BUY NOW"})]})]}),s.jsxs("div",{className:t.productstats,children:[s.jsxs("div",{children:[s.jsx("h3",{children:"Texture:"}),s.jsx("span",{children:(r=e.product)==null?void 0:r.texture})]}),s.jsxs("div",{children:[s.jsx("h3",{children:"Weight:"}),s.jsx("span",{children:(d=e.product)==null?void 0:d.weight})]}),s.jsxs("div",{children:[s.jsx("h3",{children:"Dimensions:"}),s.jsx("span",{children:(u=e.product)==null?void 0:u.dimensions})]})]})]}),s.jsx(C,{})]})};export{L as default};
